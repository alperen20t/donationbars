<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}}</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="/static/create.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">ğŸ¯ Donation Bars</h1>
                <p class="subtitle">Yeni Donation Bar OluÅŸtur</p>
                <nav class="nav">
                    <a href="/" class="nav-link">Ana Sayfa</a>
                    <a href="/create" class="nav-link active">Yeni Bar OluÅŸtur</a>
                    <a href="/manage" class="nav-link">Bar YÃ¶netimi</a>
                </nav>
            </div>
        </header>

        <!-- Error Messages -->
        {{if .Error}}
        <div class="alert alert-error">âŒ {{.Error}}</div>
        {{end}}

        <!-- Main Content -->
        <main class="main-content">
            <!-- Mode Selection -->
            {{if not .Mode}}
            <div class="mode-selection">
                <h2>ğŸš€ OluÅŸturma YÃ¶ntemi SeÃ§</h2>
                <div class="mode-cards">
                    <a href="/create?mode=ai" class="mode-card">
                        <div class="mode-icon">ğŸ¤–</div>
                        <h3>AI ile OluÅŸtur</h3>
                        <p>DoÄŸal dilinle istediÄŸin donation bar'Ä± AI ile oluÅŸtur</p>
                        <div class="mode-features">
                            <span>âœ¨ HÄ±zlÄ± ve kolay</span>
                            <span>ğŸ¨ Otomatik tasarÄ±m</span>
                            <span>ğŸŒ Ã‡ok dil desteÄŸi</span>
                        </div>
                    </a>
                    <a href="/create?mode=manual" class="mode-card">
                        <div class="mode-icon">âœï¸</div>
                        <h3>Manuel OluÅŸtur</h3>
                        <p>Kendi HTML/CSS kodunla custom bar tasarla</p>
                        <div class="mode-features">
                            <span>âš¡ Tam kontrol</span>
                            <span>ğŸ”§ Ã–zelleÅŸtirilebilir</span>
                            <span>ğŸ’» Kod editÃ¶rÃ¼</span>
                        </div>
                    </a>
                </div>
            </div>
            {{end}}

            <!-- AI Creation Form -->
            {{if eq .Mode "ai"}}
            <div class="creation-form">
                <div class="form-section">
                    <h2>ğŸ¤– AI ile Donation Bar OluÅŸtur</h2>
                    <p>AÅŸaÄŸÄ±daki forma istediÄŸin donation bar'Ä±n nasÄ±l olacaÄŸÄ±nÄ± anlat. AI senin iÃ§in hem HTML hem CSS kodunu otomatik oluÅŸturacak.</p>
                    
                    <form action="/create/ai" method="POST">
                        <div class="form-group">
                            <label for="prompt">ğŸ¯ Ä°stek (Prompt) *</label>
                            <textarea 
                                id="prompt" 
                                name="prompt" 
                                placeholder="Ã–rn: Cyberpunk temalÄ±, neon efektli, mor ve mavi renklerde bir donation bar istiyorum. Progress bar animasyonlu olsun ve modern gÃ¶rÃ¼nsÃ¼n."
                                rows="4"
                                required
                                minlength="10"
                                maxlength="1000"></textarea>
                            <small>En az 10, en fazla 1000 karakter. Ne kadar detaylÄ± anlatÄ±rsan, AI o kadar iyi sonuÃ§ verir.</small>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="language">ğŸŒ Dil *</label>
                                <select id="language" name="language" required>
                                    <option value="tr">TÃ¼rkÃ§e</option>
                                    <option value="en">English</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="theme">ğŸ¨ Tema (Opsiyonel)</label>
                                <input 
                                    type="text" 
                                    id="theme" 
                                    name="theme" 
                                    placeholder="cyberpunk, minimal, gaming, modern..."
                                    maxlength="50">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="initial_amount">ğŸ’° BaÅŸlangÄ±Ã§ TutarÄ± (â‚º) *</label>
                                <input 
                                    type="number" 
                                    id="initial_amount" 
                                    name="initial_amount" 
                                    placeholder="0"
                                    min="0"
                                    step="0.01"
                                    value="0"
                                    required>
                                <small>Åu anki toplanan tutar</small>
                            </div>
                            <div class="form-group">
                                <label for="goal_amount">ğŸ¯ Hedef Tutar (â‚º) *</label>
                                <input 
                                    type="number" 
                                    id="goal_amount" 
                                    name="goal_amount" 
                                    placeholder="1000"
                                    min="0.01"
                                    step="0.01"
                                    required>
                                <small>UlaÅŸÄ±lmak istenen hedef tutar</small>
                            </div>
                        </div>

                        <div class="form-actions">
                            <a href="/create" class="btn btn-outline">Ä°ptal</a>
                            <button type="submit" class="btn btn-primary">
                                ğŸš€ AI ile OluÅŸtur
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            {{end}}

            <!-- Manual Creation Form -->
            {{if eq .Mode "manual"}}
            <div class="creation-form">
                <div class="form-section">
                    <h2>âœï¸ Manuel Donation Bar OluÅŸtur</h2>
                    <p>Kendi HTML ve CSS kodunu yazarak donation bar oluÅŸtur. Zorunlu injection alanlarÄ±nÄ± unutma!</p>
                    
                    <form action="/create" method="POST">
                        <div class="form-group">
                            <label for="name">ğŸ“ Bar AdÄ± *</label>
                            <input 
                                type="text" 
                                id="name" 
                                name="name" 
                                placeholder="Ã–rn: Minimal Progress Bar"
                                required
                                minlength="1"
                                maxlength="100">
                        </div>

                        <div class="form-group">
                            <label for="description">ğŸ“„ AÃ§Ä±klama (Opsiyonel)</label>
                            <textarea 
                                id="description" 
                                name="description" 
                                placeholder="Bu bar'Ä±n ne iÃ§in kullanÄ±lacaÄŸÄ±nÄ± aÃ§Ä±kla..."
                                rows="2"
                                maxlength="500"></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="language">ğŸŒ Dil *</label>
                                <select id="language" name="language" required>
                                    <option value="tr">TÃ¼rkÃ§e</option>
                                    <option value="en">English</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="theme">ğŸ¨ Tema (Opsiyonel)</label>
                                <input 
                                    type="text" 
                                    id="theme" 
                                    name="theme" 
                                    placeholder="minimal, modern, colorful..."
                                    maxlength="50">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="initial_amount">ğŸ’° BaÅŸlangÄ±Ã§ TutarÄ± (â‚º) *</label>
                                <input 
                                    type="number" 
                                    id="initial_amount" 
                                    name="initial_amount" 
                                    placeholder="0"
                                    min="0"
                                    step="0.01"
                                    value="0"
                                    required>
                                <small>Åu anki toplanan tutar</small>
                            </div>
                            <div class="form-group">
                                <label for="goal_amount">ğŸ¯ Hedef Tutar (â‚º) *</label>
                                <input 
                                    type="number" 
                                    id="goal_amount" 
                                    name="goal_amount" 
                                    placeholder="1000"
                                    min="0.01"
                                    step="0.01"
                                    required>
                                <small>UlaÅŸÄ±lmak istenen hedef tutar</small>
                            </div>
                        </div>

                        <div class="code-section">
                            <div class="injection-info">
                                <h3>ğŸ”— Zorunlu Injection AlanlarÄ±</h3>
                                <p>AÅŸaÄŸÄ±daki alanlarÄ± HTML koduna dahil etmelisin:</p>
                                <div class="injection-tags">
                                    <code>{goal}</code>
                                    <code>{total}</code>
                                    <code>{percentage}</code>
                                    <code>{remaining}</code>
                                    <code>{description}</code>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="html">ğŸ“„ HTML Kodu *</label>
                                <textarea 
                                    id="html" 
                                    name="html" 
                                    placeholder='<div class="donation-bar">
  <div class="description">{description}</div>
  <div class="progress-section">
    <div class="progress-track">
      <div class="progress-fill" style="width: {percentage}%"></div>
    </div>
                                        <div class="center-info">
                                      <span class="amount">{total} â‚º</span>
                                      <span class="percentage">%{percentage}</span>
                                      <span class="remaining">Kalan: {remaining} â‚º</span>
                                    </div>
  </div>
  <div class="amounts-row">
    <span class="start-amount">Toplanan Ã§: {total} â‚º</span>
    <span class="goal-amount">Hedef: {goal} â‚º</span>
  </div>
</div>'
                                    rows="12"
                                    required></textarea>
                            </div>

                            <div class="form-group">
                                <label for="css">ğŸ¨ CSS Kodu *</label>
                                <textarea 
                                    id="css" 
                                    name="css" 
                                    placeholder='.donation-bar {
  width: 800px;
  height: 160px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 20px;
  border-radius: 15px;
  font-family: Arial, sans-serif;
  color: white;
  position: relative;
  overflow: hidden;
}

.description {
  text-align: center;
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 15px;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.progress-section {
  position: relative;
  margin: 20px 0;
}

.progress-track {
  width: 100%;
  height: 25px;
  background: rgba(255,255,255,0.2);
  border-radius: 15px;
  overflow: hidden;
  position: relative;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #56ab2f, #a8e6cf);
  border-radius: 15px;
  transition: width 0.8s ease;
  box-shadow: 0 0 15px rgba(86,171,47,0.5);
}

.center-info {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  z-index: 10;
}

.amount {
  display: block;
  font-size: 16px;
  font-weight: bold;
}

.percentage {
  display: block;
  font-size: 14px;
  opacity: 0.9;
}

.remaining {
  display: block;
  font-size: 12px;
  opacity: 0.8;
  margin-top: 2px;
}

.amounts-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 15px;
  font-size: 14px;
}

.start-amount, .goal-amount {
  background: rgba(255,255,255,0.1);
  padding: 8px 12px;
  border-radius: 8px;
  backdrop-filter: blur(5px);
}'
                                    rows="25"
                                    required></textarea>
                            </div>
                        </div>

                        <div class="form-actions">
                            <a href="/create" class="btn btn-outline">Ä°ptal</a>
                            <button type="submit" class="btn btn-primary">
                                âœ… Bar'Ä± OluÅŸtur
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            {{end}}
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2024 ByNoGame - Donation Bars System</p>
        </footer>
    </div>
</body>
</html> 